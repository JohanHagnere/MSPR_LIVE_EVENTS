{% extends 'base.html.twig' %}

{% block extra_scripts %}
	<script src="{{ asset('scripts/message.js') }}"></script>

	<script>
		const messages = {{ messages | json_encode | raw }};
	</script>


{% endblock %}

{% block extra_stylesheets %}

	<link rel="stylesheet" href="{{ asset('css/home.css') }}">

{% endblock %}

{% block title %}Nation Sounds
{% endblock %}

{% block body %}
	<main>
		<div class="container">
			<button id="toggleBtn">&rarr;</button>
            <div id="messageParent"><h1 id="messageContent" class={{messages[0].type}}>{{messages[0].content}}</h1></div>
		</div>
		<style>
			#homepage-map {
				height: 100%;
				width: 100%;
			}
		</style>

    <div id="homepage-map" style="height: 400px;"></div>


		<script>
function initMap() {
    const festival = {
        lat: 44.86536609557045,
        lng: -0.5603782196036978
    };

    // Cr√©ation de la carte
    const map = new google.maps.Map(document.getElementById("homepage-map"), {
        zoom: 15,
        center: festival,
        styles: [
            {
                featureType: "poi", // Points of interest
                stylers: [
                    {
                        visibility: "off"
                    }
                ] // les masquer
            },
            {
                featureType: "transit", // Transports en commun
                stylers: [
                    {
                        visibility: "off"
                    }
                ] // les masquer
            }
        ]
    });

    const festivalZone = new google.maps.Rectangle({
        strokeColor: "grey",
        strokeOpacity: 0.8,
        strokeWeight: 3,
        fillColor: "grey",
        fillOpacity: 0.15,
        map: map, // Utilisez la variable 'map' au lieu de 'map_festival'
        bounds: {
            north: 44.86747143885584,
            south: 44.86055159245217,
            east: -0.5566437769608246,
            west: -0.5691484354983696
        }
    });
}
console.log("homepage-map");
  window.initMap = initMap;
		</script>
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfh6E4gClmwOAfjx9hD9WrzmRWNWff1ko&callback=initMap&v=weekly" defer ></script>
	</main>
{% endblock %}
